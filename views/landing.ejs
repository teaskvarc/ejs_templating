<!DOCTYPE>
<html>

<% include header.ejs %>

<script>
    // ta variable nam v browserju sporoci na kateri strani smo trenutno
    var pageNum = <%- pageNum+1 %>
</script>

<body>

    <!-- s tem smo vkljucili (embeded) navigation.ejs -->
    <% include navigation.ejs %>

    <h1>Posts</h1>
    <p>Page: <%- pageNum+1 %></p>

    <div class="posts-container">

        <% for(var i=0; i<posts.length; i++){ %>

            <div class="post-container">
                <div class="post-title"> <%- posts[i].title %> / <%- posts[i].id %> </div>
                <br/>
                <div class="post-content"> <%- posts[i].body %> </div>
                <br/>

                <!-- Link to single article -->
                <a href="/article/<%- posts[i].id %>">Read more ...</a>
                <hr/>
            </div>

        <% } %>
    </div>


    <!-- Loading -->
    <div class="load-indicator">
        <p>Loading ...</p>
    </div>



    <ul class="page-list">

        <!-- Previous page button-->
        <a href="?page=<%- pageNum %>&postCount=<%- postCount %>">Previous</a>

        <% for(var i=0; i<numPages; i++ ){ %>
        <li>
            <% if(pageNum !== i-1){ %>

            <!-- Page link-->
            <a href="?page=<%- i %>&postCount=<%- postCount %>"><%- i %></a>

            <% }else{ %>

            <!-- Current page button -->
            <p><%- i %></p>
            <%}%>
        </li>
        <% } %>

        <!-- Next page button -->
        <a href="?page=<%- pageNum+2 %>&postCount=<%- postCount %>">Next</a>
    </ul>


    <script src="/static/js/main.js"></script>
</body>
</html>